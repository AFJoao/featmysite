<div class="login-container">
  <form id="loginForm">
    <h2>Login</h2>
    
    <div id="loginError" class="alert error" style="display: none;"></div>
    
    <div class="form-group">
      <label for="loginEmail">Email:</label>
      <input type="email" id="loginEmail" required>
    </div>

    <div class="form-group">
      <label for="loginPassword">Senha:</label>
      <input type="password" id="loginPassword" required>
    </div>

    <button type="submit">Entrar</button>
    
    <p style="margin-top: 15px; text-align: center;">
      NÃ£o tem conta? <a href="#/signup">Cadastre-se aqui</a>
    </p>
  </form>
</div>

<script>
  const loginForm = document.getElementById('loginForm');
  
  if (loginForm) {
    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      const errorDiv = document.getElementById('loginError');
      
      // Mostrar loading
      const submitBtn = loginForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Entrando...';
      submitBtn.disabled = true;
      
      try {
        const result = await authManager.login(email, password);
        
        if (result.success) {
          // Redirecionar para dashboard apropriado
          if (result.userType === 'personal') {
            router.goToPersonalDashboard();
          } else {
            router.goToStudentDashboard();
          }
        } else {
          errorDiv.textContent = result.error;
          errorDiv.style.display = 'block';
          submitBtn.textContent = originalText;
          submitBtn.disabled = false;
        }
      } catch (error) {
        console.error('Erro no login:', error);
        errorDiv.textContent = 'Erro ao fazer login. Tente novamente.';
        errorDiv.style.display = 'block';
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }
    });
  }
</script>